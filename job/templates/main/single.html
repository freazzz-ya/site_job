{% load static %}
{% load django_bootstrap5 %}
<!DOCTYPE html>
<html lang="en">

<head>
  <title>Профиль пользователя &mdash; Финансовые расчеты</title>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
  <link href="https://fonts.googleapis.com/css?family=Nunito:300,400,700" rel="stylesheet">
  <link rel="stylesheet" href='{% static "fonts/icomoon/style.css" %}'>
  <link rel="stylesheet" href='{% static "css/bootstrap.min.css" %}'>
  <link rel="stylesheet" href='{% static "css/magnific-popup.css" %}'>
  <link rel="stylesheet" href='{% static "css/jquery-ui.css" %}'>
  <link rel="stylesheet" href='{% static "css/owl.carousel.min.css" %}'>
  <link rel="stylesheet" href='{% static "css/owl.theme.default.min.css" %}'>

  <link rel="stylesheet" href='{% static "css/bootstrap-datepicker.css" %}'>

  <link rel="stylesheet" href='{% static "fonts/flaticon/font/flaticon.css" %}'>

  <link rel="stylesheet" href='{% static "css/aos.css" %}'>

  <link rel="stylesheet" href='{% static "css/style.css" %}'>

</head>

<body data-spy="scroll" data-target=".site-navbar-target" data-offset="300">

  <div class="site-wrap" id="home-section">

    <div class="site-mobile-menu site-navbar-target">
      <div class="site-mobile-menu-header">
        <div class="site-mobile-menu-close mt-3">
          <span class="icon-close2 js-menu-toggle"></span>
        </div>
      </div>
      <div class="site-mobile-menu-body"></div>
    </div>
    <header class="site-navbar js-sticky-header site-navbar-target" role="banner">

      <div class="container">
        <div class="row align-items-center position-relative">


          <div class="site-logo">
            <a href="/job/" class="text-black"><span class="text-primary">PIGGY BANK</a>
          </div>
          <nav class="site-navigation text-center ml-auto" role="navigation">
            <ul class="site-menu main-menu js-clone-nav ml-auto d-none d-lg-block">
              <li><a href="/job/crypto/" class="nav-link">Котировки</a></li>
              <li><a href="/job/scheme/" class="nav-link">Схемы заработка</a></li>
              <li><a href="/job/neuronet/" class="nav-link">Нейросети</a></li>
              <li><a href="/job/finance/calculation/" class="nav-link">Расчет баланса</a></li>
              <li><a href="/job/worker/edit/" class="nav-link">Редактировать профиль</a></li>

              
              {% if user.role == 'Special' %}
              <li><a href="special/" class="nav-link">Специально</a></li>
              {% endif %}
              <li>
                <form method="post" class="nav-link" action="{% url 'users:logout' %}">
                  {% csrf_token %}
                  <button type="submit">Выход</button>
                </form>
              </li>
            </ul>
          </nav>
          <div class="toggle-button d-inline-block d-lg-none"><a href="#"
              class="site-menu-toggle py-5 js-menu-toggle text-black"><span class="icon-menu h3"></span></a></div>

        </div>
      </div>

    </header>

    <div class="site-section-cover overlay inner-page bg-light"
      style="background-image: url('/static/images/hero_1.jpg')" data-aos="fade">

      <div class="container">
        <div class="row align-items-center justify-content-center text-center">
          <div class="col-lg-10">
            <div class="box-shadow-content">
              <div class="block-heading-1">
                <span class="d-block mb-3 text-white" data-aos="fade-up">
                  <h1 class="mb-4" data-aos="fade-up" data-aos-delay="100">Профиль пользователя {{ user.username }}
                  </h1>
              </div>
            </div>
          </div>
        </div>
      </div>

    </div>


    <section class="site-section">
      <div class="container">
          <div class="row">
              <div class="col-md-8 blog-content">
            <p class="lead">Конечно, всегда важно знать, сколько у вас денег и где они находятся.</p>
            <p>Ведение учета финансов может помочь вам принимать осознанные финансовые решения, позволяет контролировать
              свои расходы и доходы, и, конечно, держать все под контролем и у себя в кармане,  к примеру в телеграм.<a href="https://web.telegram.org/a/#6823805203">Карманный помощник <span class="icon-telegram"></span></a></p>
            <blockquote>
              <p>Ведь, когда вы знаете свои деньги, вы можете легче планировать свое будущее, выделять средства на
                важные цели, а также уменьшить стресс связанный с финансовыми вопросами.</p>
            </blockquote>
            <p>Что касается положительных примеров, можно привести множество сценариев, где ведение учета финансов
              привело к успеху.</p>
            <p>Например, многие предприниматели и стартаперы понимают, что вести учет доходов и расходов помогает им
              лучше понимать финансовое здоровье и рост своего бизнеса. </p>
            <p>Для личных финансов это также важно, ведь, знание своих доходов и расходов может помочь в планировании
              больших покупок, отпусков или пенсии.</p>
            <p>Одним из ярких примеров может служить история Тони Роббинса, который начал свою великолепную карьеру с
              того, что вел учет каждого потраченного им доллара, несмотря на то, что у него практически не было
              средств.</p>

            <p>Этот опыт помог ему стать мастером финансов и достичь огромного успеха.</p>
            <p>Также не стоит забывать о финансовой грамотности у детей. </p>
            <p>Если ребенок начнет вести учет собственных небольших доходов, например, заработанных в качестве карманных
              денег, это может привести к формированию здоровых финансовых привычек и понимания ценности денег.</p>
            <p>роме того, ведение учета финансов может помочь вам выявить непродуктивные траты, что позволит
              оптимизировать ваш бюджет. Это может включать в себя изучение ежемесячных расходов на развлечения,
              рестораны, или другие предметы, которые, возможно, можно было бы уменьшить или исключить, например, путем
              приготовления пищи дома вместо ежедневного похода в ресторан.</p>
            <p>Когда вы знаете, сколько у вас денег, где они находятся и на что они тратятся, это также помогает вам
              более осознанно управлять своими финансами и планировать на будущее. Вы можете задуматься, какие цели вы
              хотите достичь, сколько вам нужно сберечь, чтобы их достичь, и каким образом вы сможете это сделать. </p>
            <p>Так что, в конечном итоге, ведение учета финансов - это не просто о манипулировании цифрами. Это о том,
              чтобы стать более осознанным в отношении своих доходов и расходов, планировать на будущее и иметь
              возможность влиять на свою финансовую ситуацию.</p>
              <style>
                @media (max-width: 767px) {
                    .hidden-mobile {
                        display: none; /* Скрываем контейнер на мобильных устройствах с шириной экрана менее 768px */
                    }
                }
            </style>

            
            {% if total_amount %}
            <div class="container hidden-mobile">
                <div class="row">
                    <div class="col-12 text-center">
                        <div id="pie-chart3" style="font-weight: bold;"></div>
                    </div>
                </div>
            </div>
            {% endif %}
            
            <div class="container hidden-mobile">
              {% if amount_expenses or total_amount %}
                <div class="row">
                    <div class="col-12 text-center">
                        <div style="font-weight: bold;">Расходы за текущий месяц: {{ date_now }}</div>
                        <div id="pie-chart6"></div>
                    </div>
                </div>
                {% endif %}
                {% if amount_expenses or total_amount %}
                <div class="row">
                    <div class="col-12 col-md-6">
                        <div id="pie-chart4"></div>
                    </div>
                    
                    <div class="col-12 col-md-6">
                        <div id="pie-chart5"></div>
                    </div>
                </div>
                {% endif %}
            </div>
            
              <script src="https://cdn.plot.ly/plotly-latest.min.js"></script>
                    </div>

          
          <div class="col-md-4 sidebar">
            <div class="sidebar-box">
                <img src='{{ user.image.url }}' alt="Image placeholder" class="img-fluid mb-4 w-75 rounded-circle">
                <div style="border: 1px solid black; padding: 10px;">
                    <h3 class="text-black">Все о авторе {{ user.username }}</h3>
                    {% if user.first_name %}
                        <p>Имя: {{ user.first_name }}</p>
                    {% endif%}
                    {% if user.last_name %}
                        <p>Фамилия: {{ user.last_name }}</p>
                    {% endif%}
                    {% if user.is_staff %}
                        <p>Статус: Админ</p>
                    {% else %}
                        <p>Статус: Пользователь</p>
                    {% endif %}
        
                    <p>Почта: {{ user.email }}</p>
                    <p>Дата регистрации: {{ user.date_joined }}</p>
                </div>
                <br>
                <div class="telegram-link">
                  <a href="https://web.telegram.org/a/#6823805203">Мини - приложение в боте <span class="icon-telegram"></span></a>
                </div>
                <br>
                <div class="profile-description">
                  <h3 class="text-black">Описание профиля</h3>
                  <p id="shortDescription">{{ user.description_for_profil|slice:":40" }} ...</p>
                  <p id="fullDescription" style="display:none">{{ user.description_for_profil }}</p>
                  <button style="border: 1px solid black; padding: 10px;" onclick="toggleDescription()">Читать далее</button>
                </div>
        
                <br>
                <br>
                <div style="border: 1px solid black; padding: 10px;">
                    <img src='{% static "images/ruble.jpg" %}' alt="Image placeholder" class="img-fluid mb-4 w-50 rounded-circle">
                    <p>Доход от основной работы: {{ sum_job }}</p>
                    <p>Доход от нейросетей: {{ sum_network }}</p>
                    <p>Доход от иных доходов: {{ sum_other }}</p>           
                    <p style="cursor:pointer; text-decoration: underline;">Общая сумма доходов: {{ total_amount }}</p>
                    <p style="cursor:pointer; text-decoration: underline;">Общая сумма доходов за текущий месяц: {{ income_sum_month }}</p>
                    <p style="cursor:pointer; text-decoration: underline;">За период в днях: {{ day_amount }}</p>
                    <p><a href="list/" class="btn btn-primary btn-md">Узнать подробно</a></p>
                </div>
                <br>
                <div style="border: 1px solid black; padding: 10px;">
                    <img src='{% static "images/rashod.jpg" %}' alt="Image placeholder" class="img-fluid mb-4 w-50 rounded-circle">
                    <p>Постоянные расходы: {{ stable_expenses }}</p>
                    <p>Переменные расходы: {{ variable_expenses }}</p>
                    <p>Неожиданные расходы: {{ unexpected_expenses }}</p> 
                    <p>Планируемые заранее расходы: {{ planned_expenses }}</p>          
                    <p style="cursor:pointer; text-decoration: underline;">Общая сумма расходов: {{ amount_expenses }}</p>
                    <p style="cursor:pointer; text-decoration: underline;">Общая сумма расходов за текущий месяц: {{ amount_expenses_month }}</p>
                    <p><a href="list/expenses" class="btn btn-primary btn-md">Узнать подробно</a></p>
                </div>
            </div>
            <style>
              @media only screen and (min-width: 768px) {
                  .hidden-desktop {
                    display: none;
                  }
              }
          </style>
        {% if total_amount %}
            <div class="container hidden-desktop">
              <div class="row">
                  <div class="col-12 text-center">
                      <div id="pie-chart14" style="font-weight: bold;"></div>
                  </div>
              </div>
          </div>
          {% endif %}

          <div class="container hidden-desktop">
            {% if amount_expenses or total_amount %}
              <div class="row">
                  <div class="col-12 text-center">
                      <div style="font-weight: bold;">Расходы за текущий месяц: {{ date_now }}</div>
                      <div id="pie-chart8"></div>
                  </div>
              </div>
              {% endif %}
              {% if amount_expenses or total_amount %}
              <div class="row">
                  <div class="col-12 col-md-6">
                      <div id="pie-chart10"></div>
                  </div>
                  <div class="col-12 col-md-6">
                      <div id="pie-chart11"></div>
                  </div>
              </div>
              {% endif %}
          </div>
        


        




            <div class="sidebar-box">
                <h3 class="text-black">Наставление</h3>
                <p>Прежде, чем начать считать свои деньги, спроси себя, готов ли ты складывать двузначные числа$$</p>
            </div>
            <div class="sidebar-box">
                <div class="categories">
                    <h3 class="text-black">Данные</h3>
                    <li><a href="#">Кол-во нейросетей<span>{{forms.0}}</span></a></li>
                    <li><a href="#">Кол-во пользователей<span>{{forms.1}}</span></a></li>
                    <li><a href="#">Кол-во схем <span>{{forms.2}}</span></a></li>
                    <li><a href="#">Кол-во работ <span>{{forms.3}}</span></a></li>
                    <li><a href="#">Кол-во иных заработков<span>{{forms.4}}</span></a></li>
                </div>

                      

        </div>


        </div>
      </div>
    </section>


</div>

    
    <footer class="site-footer">
      <div class="container">
        <div class="row">
          <div class="col-md-6">
            <div class="row">
              <div class="col-md-8">
                <h2 class="footer-heading mb-4">О нас</h2>
                <p>Перспективная, быстрорастущая команда разработчиков, нацеленная на успех.</p>
              </div>
            </div>
          </div>
          <div class="col-md-4 ml-auto">
            <h2 class="footer-heading mb-4">Наши социальные сети</h2>
            <a href="#about-section" class="smoothscroll pl-0 pr-3"><span class="icon-facebook"></span></a>
            <a href="#" class="pl-3 pr-3"><span class="icon-twitter"></span></a>
            <a href="#" class="pl-3 pr-3"><span class="icon-instagram"></span></a>
            <a href="#" class="pl-3 pr-3"><span class="icon-linkedin"></span></a>
            
            </form>
          </div>
        </div>
        <div class="row pt-5 mt-5 text-center">
          <div class="col-md-12">
            <div class="border-top pt-5">
              <p>
                <a href="https://web.telegram.org/a/#6823805203">Карманный помощник <span class="icon-telegram"></span></a>
              </p>
            </div>
          </div>

        </div>
      </div>
    </footer>

  </div>
          <script>
            // Данные для диаграммы
            var expense_labels = ["Сумма месячных доходов", "Сумма месячных расходов"];
            var total_prices = [{{ income_sum_month }}, {{ amount_expenses_month }}];
    
            // Итерация по каждому элементу в `monthly_income` QuerySet
    
            // Создание диаграммы
            var data = [{
              labels: expense_labels,
              values: total_prices,
              type: 'pie'
            }];
            
            var layout = {
              title: 'Месячные доходы/расходы' 
            };
            
            Plotly.newPlot('pie-chart6', data, layout);
          </script>

          
          <script>
            // Данные для диаграммы
            var expense_labels = [];
            var total_prices = [];
          
            // Итерация по каждому элементу в `monthly_income` QuerySet
            {% for expense in monthly_income %}
              expense_labels.push("{{ expense.type_expenses }}");
              total_prices.push({{ expense.total_price }});
            {% endfor %}
          
            // Создание диаграммы
            var data = [{
              labels: expense_labels,
              values: total_prices,
              type: 'pie'
            }];
            
            var layout = {
              title: 'Расходы за текущий месяц'
            };
            
            Plotly.newPlot('pie-chart4', data, layout);
          </script>
                  <script>
                    // Данные для диаграммы
                    var expense_labels = [];
                    var total_prices = [];
                  
                    // Итерация по каждому элементу в `monthly_income` QuerySet
                    {% for expense in monthly_income %}
                      expense_labels.push("{{ expense.type_expenses }}");
                      total_prices.push({{ expense.total_price }});
                    {% endfor %}
                  
                    // Создание диаграммы
                    var data = [{
                      labels: expense_labels,
                      values: total_prices,
                      type: 'pie'
                    }];
                    
                    var layout = {
                      title: 'Расходы за текущий месяц'
                    };
                    
                    Plotly.newPlot('pie-chart10', data, layout);
                  </script>
                        <script>
                          // Данные для диаграммы
                          var labels = ["Доходы", "Расходы"];
                          var values = [{{ total_amount }}, {{ amount_expenses }}];
                        
                          // Создание диаграммы
                          var data = [{
                            labels: labels,
                            values: values,
                            type: 'pie'
                          }];
                        
                          var layout = {
                            title: 'Доходы и расходы за все время'
                          };
                        
                          Plotly.newPlot('pie-chart3', data, layout);
                        </script>

<script>
  // Данные для диаграммы
  var labels = ["Доходы", "Расходы"];
  var values = [{{ total_amount }}, {{ amount_expenses }}];

  // Создание диаграммы
  var data = [{
    labels: labels,
    values: values,
    type: 'pie'
  }];

  var layout = {
    title: 'Доходы и расходы за все время'
  };

  Plotly.newPlot('pie-chart14', data, layout);
</script>

                                                <script>
                                                  // Данные для диаграммы
                                                  var labels = ["Доходы", "Расходы"];
                                                  var values = [{{ income_sum_month }}, {{ amount_expenses_month }}];
                                                
                                                  // Создание диаграммы
                                                  var data = [{
                                                    labels: labels,
                                                    values: values,
                                                    type: 'pie'
                                                  }];
                                                
                                                  var layout = {
                                                    title: 'Доходы и расходы за все время'
                                                  };
                                                
                                                  Plotly.newPlot('pie-chart8', data, layout);
                                                </script>
  <script src='{% static "js/jquery-3.3.1.min.js" %}'></script>
  <script src='{% static "js/jquery-ui.js" %}'></script>
  <script src='{% static "js/popper.min.js" %}'></script>
  <script src='{% static "js/bootstrap.min.js" %}'></script>
  <script>
    // Данные для диаграммы
    var expense_labels = ["доходы с Работы", "доходы с Иных источников", "доходы с Нейросетей"];
    var total_prices = [{{ income_job }}, {{ income_other_source }}, {{ income_network }}];

    // Итерация по каждому элементу в `monthly_income` QuerySet

    // Создание диаграммы
    var data = [{
      labels: expense_labels,
      values: total_prices,
      type: 'pie'
    }];
    
    var layout = {
      title: 'Доходы за текущий месяц'
    };
    
    Plotly.newPlot('pie-chart5', data, layout);
  </script>
   <script>
    // Данные для диаграммы
    var expense_labels = ["доходы с Работы", "доходы с Иных источников", "доходы с Нейросетей"];
    var total_prices = [{{ income_job }}, {{ income_other_source }}, {{ income_network }}];

    // Итерация по каждому элементу в `monthly_income` QuerySet

    // Создание диаграммы
    var data = [{
      labels: expense_labels,
      values: total_prices,
      type: 'pie'
    }];
    
    var layout = {
      title: 'Доходы за текущий месяц'
    };
    
    Plotly.newPlot('pie-chart11', data, layout);
  </script>
  <script src='{% static "js/owl.carousel.min.js" %}'></script>
  <script src='{% static "js/jquery.magnific-popup.min.js" %}'></script>
  <script src='{% static "js/jquery.sticky.js" %}'></script>
  <script src='{% static "js/jquery.waypoints.min.js" %}'></script>
  <script src='{% static "js/jquery.animateNumber.min.js" %}'></script>
  <script src='{% static "js/aos.js" %}'></script>
  <script src='{% static "js/prof.js" %}'></script>
  <script src='{% static "js/chit.js" %}'></script>
  

  <script src='{% static "js/main.js" %}'></script>

</body>

</html>